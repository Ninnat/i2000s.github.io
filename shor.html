<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <title>อัลกอริธึมของชอร์ (ยังเขียนไม่เสร็จ)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv = "X-UA-Compatible" content = "IE = edge">
      <!--[if lt IE 9]>
      <script src = "https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src = "https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->
    <meta name="subtitle" content="ส่วนที่เป็นคลาสสิคัล, ส่วนที่เป็นควอนตัม, ข้อควรระวัง, และรหัสลับหลังควอนตัม (post-quantum)">
    <meta name="author" content="Ninnat Dangniam">

    <!-- HTML5 metadata -->

  <meta name="keywords" content="Ninnat Dangniam, " />
  



  <meta name="description" content="ส่วนที่เป็นคลาสสิคัล, ส่วนที่เป็นควอนตัม, ข้อควรระวัง, และรหัสลับหลังควอนตัม (post-quantum)" />
  


<meta http-equiv="Content-Language" content="en">
<!-- RDFa Metadata (in DublinCore) -->
<meta property="dc:title" content="อัลกอริธึมของชอร์ (ยังเขียนไม่เสร็จ)" />
<meta property="dc:creator" content="Ninnat Dangniam" />
<meta property="dc:date" content="2018-11-03 00:00:00 +0000" />
<meta property="dc:format" content="text/html" />
<meta property="dc:language" content="en" />
<meta property="dc:identifier" content="/shor.html" />
<meta property="dc:rights" content="CC-BY" />
<meta property="dc:source" content="Schur's Lemming" />
<meta property="dc:subject" content="Physics" />
<meta property="dc:type" content="website" />
<meta name="dc.language" content="en, zh-Hans, cmn">
<!-- RDFa Metadata (in OpenGraph) -->
<meta property="og:title" content="อัลกอริธึมของชอร์ (ยังเขียนไม่เสร็จ)" />
<meta property="og:author" content="http://ninnat.github.io/index.html" />  <!-- Should be Liquid? URI? -->
<meta property="http://ogp.me/ns/profile#first_name" content="Ninnat"/>
<meta property="http://ogp.me/ns/profile#last_name" content="Dangniam"/>
<meta property="http://ogp.me/ns/article#published_time" content="2018-11-03 00:00:00 +0000" />
<meta property="og:site_name" content="Schur's Lemming" /> <!-- Same as dc:source? -->
<meta property="og:url" content="http://ninnat.github.io/shor.html" />
<meta property="og:type" content="website" />
<!-- Google Scholar Metadata -->
<meta name="citation_author" content="Ninnat Dangniam"/>
<meta name="citation_date" content="2018-11-03 00:00:00 +0000"/>
<meta name="citation_title" content="อัลกอริธึมของชอร์ (ยังเขียนไม่เสร็จ)"/>
<meta name="citation_journal_title" content="Schur's Lemming"/>
<!--NOTE: see also the COinS Metadata in span element in coins.html and footer. -->
<!-- Twitter card summary -->
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@" />
<meta name="twitter:title" content="อัลกอริธึมของชอร์ (ยังเขียนไม่เสร็จ)" />
<meta name="twitter:description" content="ส่วนที่เป็นคลาสสิคัล, ส่วนที่เป็นควอนตัม, ข้อควรระวัง, และรหัสลับหลังควอนตัม (post-quantum)" />
<meta name="twitter:image" content="/assets/img/capybara.png" />

    <!-- Le styles -->
   <!-- <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Quattrocento+Sans:bold,bolditalic,italic|Quattrocento+Sans">
   <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Rosario:bold,bolditalic,italic|Rosario">
   <link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">-->
   <link rel="stylesheet" media="screen" href="https://fontlibrary.org/face/quattrocento-sans" type="text/css"/>
   <link rel="stylesheet" media="screen" href="https://fontlibrary.org/face/rosario" type="text/css"/>
    <!-- <link href="/assets/css/light.css" rel="stylesheet" type="text/css" id="stl" title="light">
    <link href="/assets/css/syntax.css" rel="stylesheet" type="text/css" id="stl" title="light"> -->
    <!-- bootstrap style -->
    <!-- <link href="/assets/css/bootstrap.min.css" rel="stylesheet" type="text/css"/> -->
    <!--- <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
    <link href = "/assets/css/bootstrap.min.css" rel = "stylesheet">-->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
    <link href = "/assets/css/bootstrap.min.css" rel = "stylesheet">
    <!-- Self-defined style -->
    <link rel="stylesheet" type="text/css" href="/assets/css/style.css">
    <link rel="stylesheet" type="text/css" href="/assets/css/tupleblog.css">

    <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-79420814-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>


    <!-- Help the browser identify the RSS feed automatically -->
    <link rel="alternate" type="application/rss+xml" title="Ninnat's notes" href="/atom.xml" />

    <!-- favicon -->
    <link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/assets/img/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicon/favicon-16x16.png">
    <link rel="manifest" href="/assets/img/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/assets/img/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
  </head>

  <!-- Go to www.addthis.com/dashboard to customize your tools -->
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5761ec473416b238" async="async"></script>

  <body>

  
<!-- Navbar  ================================================== -->
<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/README.html"><i class="glyphicon glyphicon-info-sign"></i></a>
    </div>
    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
         
            
            
            
            <li class=""><a href="/">Main</a></li>
         
            
            
            
            <li class=""><a href="/about/">About</a></li>
         
        </ul>
      <!-- Search site using Google's index -->
        <form class="navbar-form navbar-right" role="search" method="get" action="https://google.com/search">
          <div class="form-group">
            <input type="hidden" name="q" value="site:http://ninnat.github.io" />
            <input type="text" class="form-control search-query" name="q" placeholder="Search this site"/>
          </div>
          <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
       </form>

    </div><!--/.nav-collapse -->
  </div> <!-- /container -->
</nav>


  <div class="container"> <!-- Twitter bootstrap has all body content in a container -->

    <!-- Custom masthead (big titles) -->

<header class="jumbotron subhead">
    <h1 class="entry-title">อัลกอริธึมของชอร์ (ยังเขียนไม่เสร็จ)</h1>
    <h3>ส่วนที่เป็นคลาสสิคัล, ส่วนที่เป็นควอนตัม, ข้อควรระวัง, และรหัสลับหลังควอนตัม (post-quantum)</h3>
</header>

<!-- <style>
div #sticker {
  width:auto;
  padding:10px;
  margin-right:20px;
  float:right;
}
.stick {
    position:fixed;
    top:30px;}
</style>
<script type="text/javascript">
$(document).ready(function() {
    var s = $("#sticker");
    var pos = s.position();
    $(window).scroll(function() {
        var windowpos = $(window).scrollTop();
        if (windowpos >= pos.top) {
            s.addClass("stick");
        } else {
            s.removeClass("stick");
        }
    });
});
</script> -->

      <div class="row">
        <div class="col-md-8 col-md-offset-1 col-sm-12" style="background-color:#FFF">
          <article>
          <!-- </br> -->
          <div id="toc"></div>
          <p>
<center>
<img src="/assets/img/posts/2018/summer-wars-shor.png" />
</center>
<center>
<em>Kenji, meets Shor. Shor, meets Kenji.</em>
</center>
</p>

<p>อัลกอริธึมแยกตัวประกอบเป็นแอปพลิเคชันของคอมพิวเตอร์ควอนตัมที่สำคัญที่สุดหรือเปล่า? ส่วนตัวผมคิดว่าการจำลองระบบควอนตัมจะส่งผลกระทบที่ยิ่งใหญ่กว่าต่อวิทยาศาสตร์และสังคม แต่การทำลายระบบความปลอดภัย RSA เป็นเรื่องที่มักจะถูกถามบ่อยที่สุดก็เลยอยากจะเขียนเอาไว้หน่อย (มี<a href="https://khunpanya.wordpress.com/2016/07/31/shors-algorithm/">บล็อก</a>ของคุณปัญญาอีกบล็อกที่เขียนเรื่องอัลกอริธึมนี้)</p>
ก่อนอื่นเลย อัลกอริธึมแยกตัวประกอบของชอร์เป็นอัลกอริธึมหาคาบ (period finding) ของฟังก์ชันประเภทหนึ่ง ดังนั้นเราต้องมาเข้าใจกันก่อนว่าปัญหาการทำลายระบบ RSA และการแยกตัวประกอบลดรูปไปเป็นการหาคาบได้อย่างไร ซึ่งความเข้าใจส่วนนี้ไม่เกี่ยวกับควอนตัมเลย เป็นทฤษฎีจำนวนล้วนๆ ตอนก่อนจะมาเรียนฟิสิกส์ผมเคยบอกเพื่อนภาคคณิตศาสตร์ว่าชีวิตนี้จะไม่แตะทฤษฎีจำนวนอีกแล้วแต่การคำนวณเชิงควอนตัมทำให้ผมต้องผิดคำพูด (แต่เดี๋ยวก็จะเห็นว่ามันเป็นทฤษฎีกรุ๊ปเสียส่วนใหญ่) ในส่วนแรกของโพสท์นี้เราจะลดรูปปัญหาทีละขั้นๆดังนี้
<p>
<center>
ทำลายระบบ RSA ≤ หา totient function ≤ แยกตัวประกอบ ≤ หารากที่สองที่ไม่ชัดของ 1 ≤ หาคาบ
</center>
</p>

<p>โดย A ≤ B หมายความคร่าวๆว่าถ้าแก้ B ได้ก็แก้ A ได้ใน polynomial time</p>
<h2 id="ทำลายระบบ-rsa-ดวยการแยกตวประกอบ">ทำลายระบบ RSA ด้วยการแยกตัวประกอบ</h2>
<p>ใน<a href="https://ninnat.github.io/quantum-algorithms.html">โพสท์ที่แล้ว</a>ผมอธิบายการทำงานของรหัส RSA ไว้อย่างคร่าวๆ โดยไม่ใช้สมการ แต่ในโพสท์นี้ไม่ใช้ไม่ได้แล้ว ให้ <span class="math">\(m\)</span> เป็นข้อความ (message), <span class="math">\(e\)</span> เป็นกุญแจเข้ารหัสลับ (encryption key), และ <span class="math">\(d\)</span> เป็นกุญแจถอดรหัส (decryption key) ระบบ RSA เข้ารหัสด้วยการเลือกจำนวนเต็ม <span class="math">\(N\)</span> และคำนวณ <span class="math">\(m\)</span> ยกกำลัง <span class="math">\(e\)</span> ในเลขคณิตนาฬิกา <span class="math">\[ f(m) \equiv m^e \mod N \]</span> ส่วนการถอดรหัสทำโดยยกกำลังอีกครั้งจนได้ข้อความเดิมกลับมา <span class="math">\[ (m^e)^d = m^{ed} \equiv m \mod N \]</span> ในการ<a href="https://ninnat.github.io/quantum-algorithms.html">เข้ารหัสด้วยกุญแจสาธารณะ</a> (public key cryptography) ทุกๆคนมีสิทธิ์ที่จะรู้ <span class="math">\(e\)</span> และ <span class="math">\(N\)</span> แต่ผู้รับสาส์นเท่านั้นที่จะมีกุญแจถอดรหัส <span class="math">\(d\)</span> เตรียมอยู่แล้ว ดังนั้นคำถามของนักแฮกก็คือเราจะคำนวณ <span class="math">\(d\)</span> จาก <span class="math">\(e\)</span> และ <span class="math">\(N\)</span> ได้อย่างไร? <a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a></p>
<p>ปรากฏว่าถ้าเราแยกตัวประกอบได้ เราก็หาค่า <span class="math">\(M\)</span> ที่ทำให้ <span class="math">\[ ed \equiv 1 \mod M \]</span> ได้ ยกตัวอย่างเช่น เมื่อ <span class="math">\(N\)</span> เป็นผลคูณของจำนวนเฉพาะแค่สองจำนวน <span class="math">\(N=pq\)</span> ค่าของ <span class="math">\(M\)</span> คือ <span class="math">\((p-1)(q-1)\)</span> จากนั้นเราสามารถหาอินเวอร์สการคูณของ <span class="math">\(e\)</span> ใน <span class="math">\(\text{mod}\,M\)</span> ด้วย<a href="https://en.wikipedia.org/wiki/Extended_Euclidean_algorithm#Computing_multiplicative_inverses_in_modular_structures">อัลกอริธึมของยูคลิด</a> ได้กุญแจถอดรหัส <span class="math">\(d\)</span> ออกมา ปัญหาการทำลายระบบ RSA จึงลดรูปเป็นปัญหาการแยกตัวประกอบได้ <a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a></p>
<p>ถ้าต้องการหาค่า <span class="math">\(M\)</span> โดยทั่วไป มันคือ <a href="https://en.wikipedia.org/wiki/Euler%27s_totient_function">totient function</a> <span class="math">\(\varphi(N)\)</span> ของออยเลอร์ซึ่งผมแอบซ่อนรายละเอียดเอาไว้ด้านล่าง สามารถคลิกลูกศรเพื่อเปิดดูได้</p>
<hr />
<p><details><summary><strong>การหาค่าของ <span class="math">\(M\)</span>: <span class="math">\(N\)</span> เป็นจำนวนเฉพาะ</strong></summary></p>
<p>

การคำนวณ totient function เป็น generalization ของ<a href="https://en.wikipedia.org/wiki/Fermat%27s_little_theorem">ทฤษฎีบทน้อยๆของแฟร์มา</a> (Fermat’s little theorem): เมื่อ <span class="math">\(p\)</span> เป็นจำนวนเฉพาะและ <span class="math">\(a\)</span> กับ <span class="math">\(p\)</span> เป็น coprime (ห.ร.ม.=1) <span class="math">\[ a^{p-1} \equiv 1 \mod p \]</span> ทฤษฎีบทนี้<a href="https://en.wikipedia.org/wiki/Proofs_of_Fermat%27s_little_theorem">พิสูจน์</a> ได้ด้วยทฤษฎีกรุ๊ป จำนวนใน <span class="math">\(\mathbb{Z}_p\)</span> ที่มีอินเวอร์การคูณประกอบกันเป็น cyclic group <span class="math">\(\mathbb{Z}_p^*\)</span> ซึ่งมีขนาด <span class="math">\(p-1\)</span> (เพราะจำนวนทุกจำนวนที่เป็น coprime กับ <span class="math">\(p\)</span> เป็น generators ของกรุ๊ปหมด เหลือแค่ <span class="math">\(p\)</span> ตัวเดียวที่ไม่มีอินเวิร์ส) <span class="math">\(a^{p-1}\)</span> จึงเท่ากับ 1 mod <span class="math">\(p\)</span> ด้วย<a href="https://en.wikipedia.org/wiki/Lagrange%27s_theorem_(group_theory)">ทฤษฎีบทของลากรานจ์</a> เพราะกรุ๊ปที่ generated โดย <span class="math">\(a\)</span> เป็นซับกรุ๊ป (subgroup) ของ <span class="math">\(\mathbb{Z}_p^*\)</span>
</p>
<p></details></p>
<p><details><summary><strong>การหาค่าของ <span class="math">\(M\)</span>: <span class="math">\(N\)</span> เป็นกำลังของจำนวนเฉพาะ</strong></summary></p>
<p>

เมื่อ <span class="math">\(N\)</span> เป็นกำลังของจำนวนเฉพาะ (prime power) <span class="math">\(N = p^r\)</span>, จำนวนที่ไม่เป็น coprime กับ <span class="math">\(p^r\)</span> ใน <span class="math">\(\mathbb{Z}_{p^r}\)</span> และไม่มากกว่า <span class="math">\(p^r\)</span> คือ <span class="math">\(p,2p,\cdots,p^{r-1}p\)</span> ซึ่งมี <span class="math">\(p^{r-1}\)</span> จำนวน ดังนั้น <span class="math">\(\varphi(N) = p^r - p^{r-1}\)</span>
</p>
<p></details></p>
<p><details><summary><strong>การหาค่าของ <span class="math">\(M\)</span>: <span class="math">\(N\)</span> ทั่วไป</strong></summary></p>
<p>

เมื่อ <span class="math">\(N\)</span> เป็นผลคูณของกำลังของจำนวนเฉพาะ <span class="math">\(N = p_1^{r_1} p_2^{r_2}\)</span> เราสามารถ<a href="https://en.wikipedia.org/wiki/Euler%27s_totient_function#Computing_Euler%27s_totient_function">พิสูจน์</a>ได้ว่า totient function เป็นผลคูณ <span class="math">\(\varphi(p_1^{r_1}) \varphi(p_2^{r_2})\)</span> หรือ <span class="math">\[ \varphi(p_1^{r_1}p_2^{r_2} \cdots p_k^{r_k}) = (p_1^{r_1}-p_1^{r_1-1}) (p_2^{r_2}-p_2^{r_2-1}) \cdots (p_k^{r_k}-p_k^{r_k-1}) \]</span> นั่นเอง ทำให้ได้ว่า <span class="math">\[ \varphi(N) = (p-1)(q-1) \]</span> เมื่อ <span class="math">\(N\)</span> เป็นผลคูณของจำนวนเฉพาะสองจำนวน
</p>
<p></details></p>
<hr />
<p>การที่ RSA รักษาความปลอดภัยได้ก็เพราะไม่มีใครมีอัลกอริธึมคลาสสิคัลที่แยกตัวประกอบได้อย่างรวดเร็ว วิธีหนึ่งในการหาตัวประกอบของ <span class="math">\(N\)</span> คือไล่หาร <span class="math">\(N\)</span> ด้วยจำนวนเล็กๆไปเรื่อยๆจนกว่าจะเจอตัวหาร ซึ่งอาจจะต้องหารไปถึง <span class="math">\(\sqrt{N}\)</span> ตัว ทำไมนี่ไม่ใช่อัลกอริธึม polynomial-time ล่ะ? เหตุผลก็คือเราต้องการแค่ <span class="math">\(\log N\)</span> บิตในการบันทึกจำนวนเต็ม <span class="math">\(N\)</span> ขนาดของอินพุตจึงไม่ใช่ <span class="math">\(N\)</span> แต่เป็น <span class="math">\(n=\log N\)</span> ต่างหาก อัลกอริธึมไล่หารโง่ๆจึงใช้เวลา <span class="math">\(2^{n/2}\)</span> อัลกอริธึม Number Field Sieve ที่ดีสุด ก็<a href="http://math.mit.edu/~cohn/Thoughts/factoring.html">ใช้เวลา</a>ประมาณ <span class="math">\(2^{n^{1/3}}\)</span> ยังคงเป็นทวีคูณ (exponential) ในขนาดของอินพุต</p>
<h2 id="แยกตวประกอบดวยการหาคาบ">แยกตัวประกอบด้วยการหาคาบ</h2>
สิ่งที่นักวิทยาศาสตร์คอมพิวเตอร์รู้มาก่อนชอร์แล้วก็คือถ้าเราสุ่มเอาจำนวน <span class="math">\(a\)</span> มาหาคาบใน <span class="math">\(\text{mod}\,N\)</span> เยอะๆ เราก็จะหาตัวประกอบของ <span class="math">\(N\)</span> ได้ <a href="#fn3" class="footnoteRef" id="fnref3"><sup>3</sup></a> คาบของ <span class="math">\(a\)</span> คือคาบของฟังก์ชันยกกำลัง <span class="math">\(a^x\,\,\text{mod}\,N\)</span> (modular exponentiation) ยกตัวอย่างเช่นถ้าเราจับ <span class="math">\(a=2\)</span> ยกกำลังไปเรื่อยๆใน <span class="math">\(\text{mod}\,21\)</span> ค่ามันก็จะวนซ้ำทุกๆ 6 ตัว
<p>
<center>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">x</th>
<th style="text-align: center;">1</th>
<th style="text-align: center;">2</th>
<th style="text-align: center;">3</th>
<th style="text-align: center;">4</th>
<th style="text-align: center;">5</th>
<th style="text-align: center;">6</th>
<th style="text-align: center;">7</th>
<th style="text-align: center;">8</th>
<th style="text-align: center;">9</th>
<th style="text-align: center;">10</th>
<th style="text-align: center;">11</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><span class="math">\(2^x\)</span></td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">8</td>
<td style="text-align: center;">16</td>
<td style="text-align: center;">11</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">8</td>
<td style="text-align: center;">16</td>
<td style="text-align: center;">11</td>
</tr>
</tbody>
</table>
</center>
</p>

<p>เราเรียกค่านี้ว่าคาบของ <span class="math">\(a\)</span> คือจำนวน <span class="math">\(r\)</span> ที่น้อยที่สุดที่ <span class="math">\[a^r \equiv 1 \mod N\]</span> หาก <span class="math">\(N\)</span> มี <span class="math">\(k\)</span> ตัวประกอบ โอกาสที่จะสุ่มได้ <span class="math">\(a\)</span> ที่ให้ตัวประกอบเมื่อนำมาหาคาบคือ <span class="math">\(1-1/2^{k-1}\)</span> คือยังไงก็มีโอกาสไม่น้อยไปกว่าครึ่ง</p>
<hr />
<details><summary><strong>รากที่สองที่ไม่ชัดของ 1 ให้ตัวประกอบ</strong></summary>
<p>

ไอเดียก็คือถ้า <span class="math">\(r\)</span> หารด้วย 2 ลงตัว <span class="math">\(a^{r/2}\)</span> ก็จะเป็นรากที่สองของ 1 ใน <span class="math">\(\text{mod}\,N\)</span> จากนั้นก็ใช้ไอเดียจาก<a href="https://en.wikipedia.org/wiki/Miller%E2%80%93Rabin_primality_test">การทดสอบจำนวนเฉพาะของมิลเลอร์และราบิน</a> (Miller-Rabin primality testing): รากที่สองของ 1 <span class="math">\[ b^2 \equiv 1 \mod N \]</span> มีแน่ๆอยู่แล้วสองตัวคือ 1 และ <span class="math">\(-1 \equiv N-1\,\,\text{mod}\,N\)</span> เรียกว่ารากที่สองที่ชัด (trivial) แต่ถ้าเมื่อไรมีรากที่สองมากไปกว่านี้ (nontrivial square root) <span class="math">\(N\)</span> จะต้องเป็นจำนวนประกอบเพราะหาก <span class="math">\(b \not\equiv \pm 1\,\,\text{mod}\,N\)</span> และ <span class="math">\[ b^2 -1 = (b+1)(b-1) \equiv 0 \mod N \]</span> <span class="math">\(N\)</span> จะต้องหาร <span class="math">\((b+1)(b-1)\)</span> ลงตัว แต่ <span class="math">\(N\)</span> หาร <span class="math">\(b+1\)</span> หรือ <span class="math">\(b-1\)</span> โดดๆไม่ลงตัว (เพราะ <span class="math">\(b \pm 1 \not\equiv 0\,\,\text{mod}\,N\)</span>) <span class="math">\(N\)</span> จึงต้องเป็นผลคูณของตัวประกอบที่แบ่งไปหาร <span class="math">\(b+1\)</span> กับ <span class="math">\(b-1\)</span> แยกกัน ด้วยเหตุนี้ ห.ร.ม.ของ <span class="math">\(b \pm 1\)</span> และ <span class="math">\(N\)</span> จึงเป็นตัวประกอบของ <span class="math">\(N\)</span>
</p>
<p></details></p>
<details><summary><strong>ความน่าจะเป็นที่ <span class="math">\(a\)</span> จะให้รากที่สองที่ไม่ชัดของ 1</strong></summary>
<p>

ยังไม่ได้เขียน
</p>
<p></details></p>
<hr />
<h2 id="การแปลงฟเรยร">การแปลงฟูเรียร์</h2>
<h2 id="หาคาบดวยอลกอรธมควอนตม">หาคาบด้วยอัลกอริธึมควอนตัม</h2>
<h2 id="ขอควรระวงในการรนอลกอรธม">ข้อควรระวังในการรันอัลกอริธึม</h2>
<p>“Compiled Shor’s algorithm”</p>
<h2 id="ความซบซอนของการแยกตวประกอบ">ความซับซ้อนของการแยกตัวประกอบ</h2>
<p>Factoring อยู่ใน NP ∩ coNP เชื่อว่าไม่ NP-complete มิฉะนั้น PH จะยุบมาถึงระดับที่หนึ่ง (NP=coNP=PH)</p>
<section class="footnotes">
<hr />
<ol>
<li id="fn1"><p>ถ้าไม่คิดอะไร เราอาจจะนึกว่า <span class="math">\(ed \equiv 1\,\,\text{mod}\,N\)</span> คือคำตอบ แต่ <span class="math">\(a^{b\,\,\text{mod}\,N} \not\equiv a^b\,\,\text{mod}\,N\)</span> เช่น <span class="math">\(2^5 \equiv 2^{1\,\,\text{mod}\,4}\)</span> แต่ <span class="math">\(2^5 = 32 \equiv 0\,\,\text{mod}\,4\)</span><a href="#fnref1">↩</a></p></li>
<li id="fn2"><p>จริงๆแล้วการแยกตัวประกอบก็ลดรูปเป็นปัญหาการทำลายระบบ RSA ได้ด้วย randomized polynomial-time algorithm จึงกล่าวได้ว่าทั้งสองปัญหาเป็นปัญหาเดียวกัน (Cristopher Moore และ Stephan Mertens, <em>The Nature of Computation</em> หน้า 895)<a href="#fnref2">↩</a></p></li>
<li id="fn3"><p>หรือถ้าเช็คว่า <span class="math">\(a\)</span> เป็นจำนวนเฉพาะ (ซึ่งทำได้ใน <a href="https://en.wikipedia.org/wiki/Primality_test">polynomial time</a>) และโชคดี ห.ร.ม. ของ <span class="math">\(a\)</span> กับ <span class="math">\(N\)</span> ไม่ใช่ 1 ก็จบ ห.ร.ม.นั่นแหละคือตัวประกอบ<a href="#fnref3">↩</a></p></li>
</ol>
</section>

          </article>

          <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>

          <sript src="/assets/js/toc.js"></sript>

          <script type="text/javascript">
            $(document).ready(function() {
              $('#toc').toc({listType:'ul', minimumHeaders:2});
            });
          </script>
        </div>


        <!-- Custom sidebar -->
        <div class="col-md-2 col-sm-12">
          <!-- <div id="sticker" style="width:250px"> --> <!--class="sidebar">-->
             <!-- | replace '_posts/', '' -->

<aside prefix="og:https://ogp.me/ns/article#">
  <p> <i class="glyphicon glyphicon-calendar"></i><small>
    <time datetime="2018-11-03 00:00:00 +0000"
    property="dc:created">03 Nov 2018</time></small></p>
  
  <p><small> Updated: <time
            datetime="2018-11-04 14:12:29 +0000"
            property="dc:modified">04 Nov 2018</time></small></p>
  
<!-- page.modified datetime="" -->
 <br />
          
            <p><a class="btn btn-default" href='/quantum-algorithms.html'><i class="glyphicon glyphicon-chevron-left"></i> prev</a>
          
          
            <a class="btn btn-default" href='/jan-2019-log.html'>next <i class="glyphicon glyphicon-chevron-right"></i></a></p>
          


 <a  onclick="recordOutboundLink(this, 'Outbound Links', 'history'); return false;"  class="btn btn-default"
   href="https://github.com/ninnat/ninnat.github.io/commits/dev/_posts/2018-11-03-shor.md"><i class="glyphicon glyphicon-time"></i> edit history</a>

  <br><br>

  <p><i class="glyphicon glyphicon-list"></i> Posted in
    
      <a rel="dc:subject" class="category"
         href="/categories.html#Quantum+computing">Quantum computing</a>
    
    </p>

  <p><i class="glyphicon glyphicon-tag"></i> Tags:
    </p>

  <br/>

  

  <br/>
  <p><tiny> <i class="glyphicon glyphicon-barcode"></i> SHA Hash: <a href="https://github.com/ninnat/ninnat.github.io/commit/107c3585a71e842f709956eac6cd5204519e007e/_posts/2018-11-03-shor.md"> 107c358</a></tiny></p>
</aside>

<br /><br />
<div style="font-weight:bold; text-align:center;font-size:1.0em;">
 <i class="glyphicon glyphicon-chevron-left"></i> <a href="/archives.html">Archieves by date,</a>
 <i class="glyphicon glyphicon-list"></i> <a href="/categories.html">by category,</a>
 <!--<i class="glyphicon glyphicon-tag"></i>--> <a href="/tags.html">by tag.</a>
</div>

         <!-- </div> -->
       </div>

      </div>
<div id="related">
  <h2>Related Posts</h2>
  <ul class="posts">
    
      <li><span>01 Aug 2017</span> &raquo; <a href="/quantum-algorithms.html">ขั้นคิดคำนวณแบบควอนตัม</a></li>
    
      <li><span>07 Mar 2019</span> &raquo; <a href="/feb-2019-log.html">February 2019 Archive</a></li>
    
      <li><span>20 Jul 2016</span> &raquo; <a href="/first-post.html">First Post</a></li>
    
  </ul>
</div>


      <!-- Disqus Comments -->
      <div class="row">
        <div class="span12">
            <div id="disqus_thread"></div>
            <script type="text/javascript">
                var disqus_shortname = 'ninnat'; // required: replace example with your forum shortname
                /* * * DON'T EDIT BELOW THIS LINE * * */
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        </div>
      </div>

    <footer class="footer" style="clear:both;">
      <div class="row" align="center" clear="both">
		<a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>. </span></a>
		<br>
	</div>
      
<!-- COinS metadata (for citation managers like Zotero etc), goes in body text -->
  <span
      class="Z3988" 
      title="ctx_ver=Z39.88-2004
      &amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Adc
      &amp;rfr_id=info%3Asid%2Focoins.info%3Agenerator
      &amp;rft.title=อัลกอริธึมของชอร์ (ยังเขียนไม่เสร็จ)
      &amp;rft.creator=Ninnat Dangniam
      &amp;rft.date=2018-11-03
      &amp;rft.language='en-US, zh-Hans'
      &amp;rft.rights='CC-BY'
      &amp;rft_id=http://ninnat.github.io/shor.html">
  </span>

    </footer>
   </div><!-- /container -->

        <!-- Le javascript
    ================================================== -->

    <!-- Placed at the end of the document so the pages load faster -->
    <!-- JQuery, used on a few pages -->
    <script src="//ajax.aspnetcdn.com/ajax/jQuery/jquery-2.2.4.min.js"></script>
    <script src="//cdn.jsdelivr.net/jquery.mixitup/latest/jquery.mixitup.min.js"></script>
    <script src="/assets/js/mixitup-mine.js"></script>
    <!-- Equations using MathJax -->
    <script type="text/javascript" src="//cdn.rawgit.com/mathjax/MathJax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config"> MathJax.Hub.Config({ TeX: { equationNumbers: {autoNumber: "all"} } });       </script>
    <script type="text/x-mathjax-config"> MathJax.Hub.Config({ tex2jax: { inlineMath: [['$', '$'],['\\(','\\)'] ], processEscapes: true } }); </script>
    <!-- XY-pic extension -->
    <script type="text/x-mathjax-config>
      MathJax.Hub.Config({
        extensions: ["tex2jax.js"],
        jax: ["input/TeX","output/HTML-CSS"],
        "HTML-CSS": {
          styles: {".MathJax_Preview": {visibility: "hidden"}}
        },
        tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]},
        TeX: {extensions: ["AMSmath.js","AMSsymbols.js","/assets/js/xypic.js"]}
      }); </script>
    <!-- Self-defined extensions and macros. -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Register.StartupHook("TeX Jax Ready",function () {
      MathJax.Hub.Insert(MathJax.InputJax.TeX.Definitions.macros,{
        cancel: ["Extension","cancel"],
        bcancel: ["Extension","cancel"],
        xcancel: ["Extension","cancel"],
        cancelto: ["Extension","cancel"],
        unicode: ["Extension","unicode"]
      });
    });
    </script>
    <!-- Customize this part for LaTeX macros.-->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      TeX: {
        Macros: {
          ket: ["{\\left| {#1} \\right\\rangle}",1],
          bra: ["{\\left\\langle {#1} \\right|}",1],
          av: ["{\\left\\langle{#1}\\right\\rangle}",1],
          ketbra: ["{\\left|{#1}\\vphantom{#2}\\right\\rangle\\!\\left\\langle{#2}\\vphantom{#1}\\right|}",2],
          cong: "{\\,\\unicode{x2245}\\,}",
          Tr: "{\\mathrm{Tr}}",
          id: "{\\unicode{x1D7D9}}",
          Id: "{\\mathbf{I}}",
          coloneqq: "{\\unicode{x2254}}",
          R: "{\\mathbb{R}}",
          C: "{\\mathbb{C}}",
          SU: "{\\mathrm{SU}}",
          SO: "{\\mathrm{SO}}",
          Sp: "{\\mathrm{Sp}}",
          hilb: "{\\mathcal{H}}",
          End: "{\\mathrm{End}\\,}",
          Sym: "{\\mathrm{Sym}}",
          dgg: "{^{\\dagger}}",
          al: "{\\mathfrak}",
          ind: ["{\\mathrm{Ind}_{#2}^{#3} {#1}}",3],
          cind: ["{\\mathrm{Coind}_{#2}^{#3} {#1}}",3],
          ad: "{\\mathrm{ad}}",
          Ad: "{\\mathrm{Ad}}",
          kill: "{\\mathrm{Kill}(#1,#2)}",
          rank: "{\\mathrm{rank}\\,}",
          GL: "{\\mathrm{GL}}",
          SL: "{\\mathrm{SL}}",
          U: "{\\mathrm{U}}",
          g: "{\\mathfrak{g}}",
          h: "{\\mathfrak{h}}",
          n: "{\\mathfrak{n}}",
          gl: "{\\mathfrak{gl}}",
          sl: "{\\mathfrak{sl}}",
          so: "{\\mathfrak{so}}",
          sp: "{\\mathfrak{sp}}",
        }
      <!-- extensions: ["autoload-all.js"]-->
      }
    });

    </script>
    <!-- Twitter Bootstrap Javascript -->
    <script src="/assets/js/bootstrap-collapse.js"></script> <!-- for collapsing navbar-->
    <!-- Unused Twitter Bootstrap Javascript
    <script src="http://ninnat.github.io/assets/js/bootstrap-dropdown.js"></script>
    <script src="http://ninnat.github.io/assets/js/google-code-prettify/prettify.js"></script>
    <script src="http://ninnat.github.io/assets/js/bootstrap-transition.js"></script>
    <script src="http://ninnat.github.io/assets/js/bootstrap-alert.js"></script>
    <script src="http://ninnat.github.io/assets/js/bootstrap-modal.js"></script>
    <script src="http://ninnat.github.io/assets/js/bootstrap-scrollspy.js"></script>
    <script src="http://ninnat.github.io/assets/js/bootstrap-tab.js"></script>
    <script src="http://ninnat.github.io/assets/js/bootstrap-tooltip.js"></script>
    <script src="http://ninnat.github.io/assets/js/bootstrap-popover.js"></script>
    <script src="http://ninnat.github.io/assets/js/bootstrap-button.js"></script>
    <script src="http://ninnat.github.io/assets/js/bootstrap-carousel.js"></script>
    <script src="http://ninnat.github.io/assets/js/bootstrap-typeahead.js"></script>
    <script src="http://ninnat.github.io/assets/js/application.js"></script>
    -->
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins)
    <script src = "https://code.jquery.com/jquery.js"></script> -->
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src = "/assets/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="/assets/js/bigfoot.js"></script>
	<script type="text/javascript">
  $.bigfoot({
    activateCallback: function($popover, $button) {
        if (MathJax && !$button.data('mathjax-processed')) {
            var content_wrapper = $popover.find('.bigfoot-footnote__content')[0];
            MathJax.Hub.Queue(['Typeset', MathJax.Hub, content_wrapper]);
            MathJax.Hub.Queue(function () {
                $button.attr('data-bigfoot-footnote', content_wrapper.innerHTML);
                $button.data('mathjax-processed', true);
            });
        }
    }
  });
	</script>

  </body>
</html>

